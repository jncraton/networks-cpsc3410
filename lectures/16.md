Midterm Exam
------------

- Next Tuesday, October 18th
- In-class exam
- Covers 1.1 through 3.2
- You may bring a page of notes (max 8.5x11, handwritten, double-sided)

802.11
======

WiFi
----

- Commonly used to cover small geographic area (homes, offices, etc)
- Can be operated without a license

Main standards
--------------

- 802.11b - 11mbps max data rate, 2.4GHz
- 802.11a - 54mbps max data rate, 5GHz
- 802.11g - 54mbps max data rate, 2.4GHz
- 802.11n - 150mbps max data rate, 2.4GHz (40MHz channel, no MIMO)
- 802.11ac - 867mbps 2.4Ghz and 5GHz (8 antenna AP, 160MHz channel)

Bitrate negotiation
-------------------

- Bitrates can be adjusted in response to surrounding noise and interference

Improvements over time
----------------------

- Improved hardware and encoding/decoding techniques
- Channel bonding
- MIMO

MIMO
----

- Multiple input, multiple output
- Uses arrays of antennas and interference patterns to create multiple spatial streams

---

[Beamlab](https://apenwarr.ca/beamlab/)

Real speed increases
--------------------

- Many increases in performance are hard to realize
- Some require uncongested areas
- Some require signal quality that is difficult to realize in reality in order to negotiate the highest rates

Collisions
---------

How do we make ourself heard while avoiding talking over others?

Collision detection
-------------------

- In Ethernet we can listen to our bus to know if it is in use
- We can't do this perfectly when communicating with a wireless base station

---

![Hidden node problem](https://book.systemsapproach.org/_images/f02-30-9780123850591.png){height=540px}

---

![Exposed node problem](https://book.systemsapproach.org/_images/f02-31-9780123850591.png){height=540px}

Collision Avoidance
-------------------

We need a mechanism to prevent collisions the we can't observe ourselves

Request to send
---------------

- When we have data to send, we send and RTS packet to the base station including the amount of time that we need
- The base station responds with a CTS packet letting us know we can proceed
- Network Allocation Vector (NAV) - Hosts on the network track time until it is available by observing RTS and CTS frames

RTS Collisions
--------------

- RTS frames may collide
- This is identified by lack of CTS
- Backoff then occurs before retry

Distribution System
===================

Base stations
-------------

- 802.11 can be used for ad-hoc networks, but it usually involves one or more base stations or APs
- In networks with multiple APs, APs are networked together via a distribution system

---

![Distribution System](https://book.systemsapproach.org/_images/f02-32-9780123850591.png)

Joining a network
-----------------

1. Node sends `Probe` frame
2. APs respond with `Probe Response` frame
3. Node selects AP and sends `Association Request` frame
4. The AP replies with an `Association Response` frame

Mobility
--------

- Nodes may choose to drop their associated AP and associate with a new one
- This process is the same as the initial process to join the network

---

![Node Mobility](https://book.systemsapproach.org/_images/f02-33-9780123850591.png)

Passive scanning
----------------

- `Probe` frames are used for active scanning
- We can also passively listen for `Beacon` frames sent at regular intervals by the AP

Frame Format
============

---

![802.11 frame](https://book.systemsapproach.org/_images/f02-34-9780123850591.png)

Multiple Addresses
------------------

- We need additional addresses in the frame
- Transmitter Address (TA)
- Receiver Address (RA)
- Source Address (SA)
- Destination Address (DA)

---

![Wifi Addresses](https://book.systemsapproach.org/_images/f02-34-9780123850591.png)

Wifi Security
-------------

- All traffic is broadcast over the air and is vulnerable to eavesdropping
- We will discuss adding encryption to secure wireless channels in chapter 8

Bluetooth
=========

---

- Operates at 2.45 GHz
- Connect devices at short range
- Headsets, mice, etc

2.8 Access Networks
===================

Passive Optical Network
=======================

--- 

- Used to provide broadband access to homes and businesses.
- Uses passive splitters to separate fibers

---

![PON network fanout](https://book.systemsapproach.org/_images/Slide12.png)

Components
----------

- Optical Line Terminal (OLT) - terminates fiber at ISP
- Optical Network Unit (ONU) - terminates fiber at endpoints

Downstream Access
-----------------

- ONUs receive every frame from the OLT
- ONUs use addressing to identify their frames
- Encryption is used to protect traffic

Upstream Access
---------------

- ONUs are sent grants from the OLT indicating when they can transmit
- OLT manages grants as a way of maintaining fairness and usage of the link
