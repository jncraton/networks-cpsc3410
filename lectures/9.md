2.3 Framing
===========

Frames
======

We now know how to exchange bitstreams between nodes on a network.

We need to develop algorithms and protocols to handle *frames* to build a packet-switched network over the bitstream.

---

![Bits between adapters become frames seen by hosts](https://book.systemsapproach.org/_images/f02-06-9780123850591.png)

---

We'll look specifically at point-to-point links, but the same basic techniques apply to broadcast links as well.

Byte-oriented protocols
=======================

---

View frames as collection of bytes rather than simple bits

Examples
--------

- BISYNC - IBM protocol from the 60s
- DDCMP - Used by DEC in DECNET
- PPP - Point-to-point protocol, a modern approach

Sentinal values
---------------

- Used to denote start and end of frames in some protocols
- Also known as flag bytes

BISYNC
------

- SYN - syncronoization - indicates start of frame
- STX - start of text section
- ETX - end of text

---

Sentinel characters are just a series of bits. What if we need to send this series of bits in our data?

Byte stuffing
-------------

- Escape special characters when used in data
- Also escape the escapes

C Example
---------

```c
printf("Double quote: \"");
printf("Backslash: \\");
```

Length field
------------

Instead of using sentinel values, we can transmit a frame length and count bytes

---

What if a bit error causes the length or flag byte to be changed?

Framing Errors
--------------

- Bit error in length will cause adapter to read to much or too little data
- Bit error in flag will also cause frames to be misunderstood

Point-to-point protocol (PPP)
-----------------------------

- Common protocol use by many types of links
    - Fiber
    - Dial-up
    - Point-to-point radio
- Uses flag bytes and byte stuffing

---

What if errors occur in our data?

---

Include a checksum (we'll cover this more next time)

---

![PPP frame](https://book.systemsapproach.org/_images/f02-08-9780123850591.png)

Bit-oriented protocols
======================

---
