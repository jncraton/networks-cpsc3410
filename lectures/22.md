Example Protocols
=================

PPP
---

Point-to-point Protocol

Features
--------

- Framing method delineating start and end with error detection
- Link Control Protocol (LCP) to handle bringing up links and managing parameters
- Network-layer option negotiation via NCP

Overview
--------

- Byte oriented protocol
- Byte stuffing and flag bytes used for frame detection
- Sliding window, acknowledgements, and timeouts for flow control

---------

![PPP Frame](figures/ppp-frame.png)

Medium Access Control Sublayer
==============================

---

How do we decide who gets to talk on a shared broadcast medium?

Static Allocation
-----------------

Each hosts get allocated a piece of the layer to use (FDM, TDM, etc)

Weaknesses
----------

- Very poor performance with bursty traffic (most traffic is bursty)

Dynamic Channel Allocation
--------------------------

Use real-time algorithms to allocate channel access

Assumptions
-----------

1. Independent Traffic
2. Single Channel
3. Observable Collisions
4. Continuous or slotted time
5. Carrier sense or no carrier sense

Independent traffic
-------------------

- The most questionable assumption
- It is usually incorrect, but makes networks much simpler to reason about

ALOHA
=====

---

- If you have data to send, send it
- A central hub relays your transmission to all hosts
- You listen for the retransmission to ensure that no errors occurred
- If there was an error, try again after a random delay

---

![Pure ALOHA Collisions](https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/Pure_ALOHA1.svg/640px-Pure_ALOHA1.svg.png)

Slotted ALOHA
-------------

- Similar to ALOHA, but with assigned time slots for frames

---

![Slotted ALOHA Collisions](https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/Slotted_ALOHA.svg/640px-Slotted_ALOHA.svg.png)

---

![ALOHA Comparison](https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Aloha_PureVsSlotted.svg/616px-Aloha_PureVsSlotted.svg.png)

Carrier Sense Multiple Access (CSMA)
====================================

1-persistent CSMA
-----------------

1. If you have data to send, listen for traffic
2. Wait if someone else is transmitting
3. Send your data when channel is quiet

---

Does this solve our collision problem?

---

What happens when 2 hosts have data ready to send while a third host is transmitting?

Non-persistent CSMA
-------------------

Introduce a random delay if we are waiting on the line to be free

P-persistent CSMA
-----------------

- Slotted protocol
- Transmit with probability P when line is available and we have data to send

---

![Protocol Comparison](figures/4-4.png)

CSMA with Collision Detection
=============================

---

What if two hosts start transmitting at the same time?

---

Time (and therefore bandwidth) get wasted while hosts clobber one another

---

Collision Detection
-------------------

- Listen as we transmit to make sure we are only hearing what we are transmitting
- Stop transmitting if another host is also transmitting
- Used in classic Ethernet

Collision Free Protocols
========================

Token Passing
-------------

---

Stations pass around a token and are only allowed to transmit when they hold the token. The token is then passed to the next host in line.

Token Ring
----------

A token passing network designed as a physical ring

---

![Token Ring](figures/4-7.png)

---

Is this the same as time division multiplexing?

Token Bus
---------

Hosts pass a token, but they can all hear one other on a physical bus

Wireless LAN Protocols
======================

---

Collision detection is difficult because we aren't the reciever


Hidden terminal problem
-----------------------

A node that we can't hear is tranmitting to our reciever

---

![Hidden node](https://upload.wikimedia.org/wikipedia/commons/thumb/2/2b/Wifi_hidden_station_problem.svg/537px-Wifi_hidden_station_problem.svg.png)

Exposed terminal problem
------------------------

A node that we can hear is tranmitting to someone else

---

![Exposed Node](https://upload.wikimedia.org/wikipedia/commons/thumb/9/97/Exposed_terminal_problem.svg/800px-Exposed_terminal_problem.svg.png)

Ethernet
========
