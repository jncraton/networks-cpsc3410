Lab Questions
-------------

- HTTP Content Length header
- sockets API for streams vs datagrams

DMCA
----

- Passed unanimously in 1998
- Increases penalties for online copyright violations
- Criminalizes technologies to circumvent copyright protections
- Provides safe harbor for website operators

youtube-dl
----------

1. [DMCA Takedown](https://github.com/github/dmca/blob/master/2020/10/2020-10-23-RIAA.md)
2. [Offending Code](https://github.com/animelover1984/youtube-dl/commit/0851123c1909558268e8e237214d9c466cf5198d)
3. [EFF Reversal Letter](https://github.com/github/dmca/blob/master/2020/11/2020-11-16-RIAA-reversal-effletter.pdf)
4. [Repo Reinstated](https://github.blog/2020-11-16-standing-up-for-developers-youtube-dl-is-back/)
5. [Offending Test Cases removed](https://github.com/ytdl-org/youtube-dl/commit/1fb034d029c8b7feafe45f64e6a0808663ad315e)

6.5 Quality of Service
======================

QoS
---

- Applications have different needs
- A network that supports these different needs is said to support Quality of Service (QoS)

Requirements
------------

- Bandwidth
- Latency
- Jitter
- Packet loss

---

![Audio Example](https://book.systemsapproach.org/_images/f06-20-9780123850591.png)

Buffering
---------

- Audio is broken into time slices and sent as packets
- Packets are buffered and played back

---

![Playback Buffer](https://book.systemsapproach.org/_images/f06-21-9780123850591.png)

Buffer size
-----------

- A larger buffer will be more resistant to jitter and possibly packet loss
- A larger buffer also induced delay

---

Application Needs
-----------------

- Real-time vs elastic
- Intolerant to packet loss
- Able to adapt to different level of bandwidth by adjusting rate
- Able to adapt to jitter and latency using larger buffers

---

![Application Characteristics](https://book.systemsapproach.org/_images/f06-23-9780123850591.png)

QoS Approaches
--------------

- Fine-grained - make adjustments by flow or application
- Course-grained - provides different levels of services to large classes of data

9.1 Traditional Applications
============================

World Wide Web
--------------

- The World Wide Web is not the Internet
- The Internet is a global network of networks connecting most modern computing systems
- The World Wide Web is a set of interconnected hypertext documents

Hypertext
---------

Documents with links to other documents that are immediately accessible

Uniform Resource Identifier (URI)
---------------------------------

- A string used to concretely identify a document, image, service, or other resource
- The web commonly uses a specific type of URI called a URL

URL
---

- Includes identification and access mechanism
- Example: https://en.wikipedia.org/wiki/URL

Hypertext Transfer Protocol (HTTP)
----------------------------------

- Used initially to transmit hypertext documents on the web
- Combines URI with verbs to perform operations

---

+-----------+-----------------------------------------------------------+
| Operation | Description                                               |
+===========+===========================================================+
| GET       | Retrieve document identified in URL                       |
+-----------+-----------------------------------------------------------+
| POST      | Give information (e.g., annotation) to server             |
+-----------+-----------------------------------------------------------+
| PUT       | Store document under specified URL                        |
+-----------+-----------------------------------------------------------+
| DELETE    | Delete specified URL                                      |
+-----------+-----------------------------------------------------------+

Simple HTTP Request
-------------------

Requests the root document from a host.

```
GET / HTTP/1.1
```

Simple HTTP Response
--------------------

Indicates that the document is not available.

```
HTTP/1.1 404 Not Found
```

---

+------+---------------+--------------------------------------------------------+
| Code | Type          | Example Reasons                                        |
+======+===============+========================================================+
| 1xx  | Informational | request received, continuing process                   |
+------+---------------+--------------------------------------------------------+
| 2xx  | Success       | action successfully received, understood, and accepted |
+------+---------------+--------------------------------------------------------+
| 3xx  | Redirection   | further action must be taken to complete the request   |
+------+---------------+--------------------------------------------------------+
| 4xx  | Client Error  | request contains bad syntax or cannot be fulfilled     |
+------+---------------+--------------------------------------------------------+
| 5xx  | Server Error  | server failed to fulfill an apparently valid request   |
+------+---------------+--------------------------------------------------------+

TCP Connections
---------------

- HTTP is built on top of TCP
- It's usage has evolved between 1.0, 1.1 and 2.0
- HTTP/3 uses QUIC

---

![HTTP/1.0 Connections](https://book.systemsapproach.org/_images/f09-04-9780123850591.png){height=540px}

---

![HTTP/1.1 Connections](https://book.systemsapproach.org/_images/f09-05-9780123850591.png)

Caching
-------

- We can improve latency and reduce bandwidth by storing resources that we've already used
- Most browser will manage a cache of previously seen resources and not request them again until they expire
- Proxy and reverse proxy servers can also be used for caching purposes

---

![Reverse proxy](https://upload.wikimedia.org/wikipedia/commons/6/67/Reverse_proxy_h2g2bob.svg)

Web Services
------------

- We can use use HTTP to build web services to perform tasks and not merely deliver static documents
- Many standard (WSDL, SOAP) and non-standard mechanisms are used to build interfaces to web services
- Many services build a new protocol on top of HTTP

Representational State Transfer (REST)
--------------------------------------

- Uses standard HTTP verbs to interact with a service at a URL
- Uses custom media types to represent datagrams
- Stateless protocol that does not require the server to maintain per-session state
