Quality of Service
==================

---

How do we handle services that need stronger guarantees from the networks?

Overprovisioning
----------------

Simply install more hardware than the network needs

QoS considerations
------------------

1. What applications need from the network.
2. How to regulate the traffic that enters the network.
3. How to reserve resources at routers to guarantee performance.
4. Whether the network can safely accept more traffic.

Flow
----

Stream of packets from one destination to another

Flow needs
----------

Needed quality of service determined from:

- Bandwidth
- Delay
- Jitter
- Loss

---

![QoS needs of common services](figures/5-27.png)

Traffic Shaping
===============

---

Regulating the average flow rate of data as it enters the network

Packet Scheduling
=================

Considerations
--------------

- Bandwidth
- Buffer space
- CPU cycles

Algorithms
----------

First-in, first out (FIFO)
--------------------------

- Simple
- Tail drop - new packets that don't fit in the queue are dropped
- Flows from different hosts can disrupt one another

Fair Queuing
-------------

- Routers have separate queues per flow
- Packets are sent from queues in round-robin fashion

---

![Round-robin fair queuing](figures/5-30.png)

Weighted Fair Queuing
----------------------

- Give certain hosts multiple packets per round

Differentiated Services
-----------------------

- We may prefer class-based over flow-based prioritization in some cases
- Expedited forwarding may be used on certain marked packets

---

![Expedited Forwarding](figures/5-36.png)

Internetworking
===============

---

- Many types of networks exist
- We want to connect them

---

![Network differences](figures/5-38.png)

---

![Connecting different networks](figures/5-39.png)

Tunneling
---------

If we have two networks of the same type separated by another network, we can logically bridge the two networks using a tunnel.

---

![Tunneling](figures/5-40.png)

Fragmentation
-------------

- Networks don't share the same packet length
- We can break packets up, but this creates overhead
- We prefer to discover the max packet size (Path Maximum Transmission Unit) and use this

---

![Path MTU discovery](figures/5-44.png)

The Internet
============

---

![IPv4 Header](figures/5-46.png)

IP Addresses
------------

- 4 bytes
- Dotted decimal notation
- e.g. 245.183.137.103

Subnetting
----------

- IP addresses are hierarchical
- Blocks (subnets) can be assigned to groups for use

---

![Network Subnets](figures/5-49.png)

Network Address Translation
---------------------------

- IP space is limited
- Internal network addresses may be mapped to a smaller number of external addresses

IPv6
----
