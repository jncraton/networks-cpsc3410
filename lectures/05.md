1.3 Architecture
================

---

Layering and Protocols
======================

---

What is abstraction?

---

Abstraction is the hiding of implementation details behind an interface

---

Networks have many complex details that we would like to abstract or hide.

---

Layering
--------

- We combine the network communication tasks into **Layers** with well-defined interfaces

---

![Simple layering approach](https://book.systemsapproach.org/_images/f01-08-9780123850591.png)

---

Any given layer may have multiple implementations that implement the same basic services.

---

![Alternate abstractions](https://book.systemsapproach.org/_images/f01-09-9780123850591.png)

Protocols
---------

- The abstract objects making up the layers of the network stack
- Agreement on how communication should take place

Protocol Interfaces
-------------------

- Service interface - Provides interface for use on the local machine
- Peer interface - Determines messaging and communication with the remote host

---

![Protocol interfaces](https://book.systemsapproach.org/_images/f01-10-9780123850591.png)

Protocol Specifications
-----------------------

- Abstract documents that define how communication should work
- Created and maintained by standards bodies (IETF, ISO, etc)

---

![Protocol Graph](https://book.systemsapproach.org/_images/f01-11-9780123850591.png)

---

How do middle layer protocols communicate with one another?

---

Indirectly, via encapsulation.

Encapsulation
-------------

- High-level messages are embedded in lower-level messages
- **Headers** are attached to the **payload** (body) adding layer-specific information

---

![Encapsulation](https://book.systemsapproach.org/_images/f01-12-9780123850591.png)

Layering
--------

- Headers are added as data passes down the stack of host
- Headers are removed as data is process and moves of the stack of the receiver

Key concept
-----------

Lower layers of the stack do not understand the headers from higher layers. They simply treat the information as a raw data payload.

---

Wireshark Example
